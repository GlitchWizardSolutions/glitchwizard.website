/* CLICK-BASED DROPDOWN - ESCAPES ALL CONTAINERS */

/* Remove stacking contexts from containers */
.table-responsive,
.card-body,
.card,
#invoices-table {
    overflow: visible !important;
    transform: none !important;
    filter: none !important;
    perspective: none !important;
    will-change: auto !important;
}

/* Basic table dropdown structure */
.table-dropdown {
    position: relative;
    display: inline-block;
}

.table-dropdown svg {
    cursor: pointer;
    padding: 3px;
    border: 1px solid transparent;
    border-radius: 4px;
    transition: border-color 0.15s ease;
    fill: #000000;
    width: 34px;
    height: 34px;
    transform: rotate(0deg); /* Ensure horizontal orientation */
}

.table-dropdown:hover svg {
    border: 1px solid #000000;
    background-color: transparent;
}

/* Ensure all table ellipsis toggles are consistent */
.table .actions .table-dropdown svg {
    width: 34px !important;
    height: 34px !important;
    padding: 6px !important;
}

/* FORCE DISABLE HOVER - MOST SPECIFIC RULES */
.table-responsive .table tbody tr td .table-dropdown:hover .table-dropdown-items,
.card-body .table-responsive .table tbody tr td .table-dropdown:hover .table-dropdown-items,
.card .card-body .table-responsive .table tbody tr td .table-dropdown:hover .table-dropdown-items,
#invoices-table .card-body .table-responsive .table tbody tr td .table-dropdown:hover .table-dropdown-items,
body .table-dropdown:hover .table-dropdown-items,
html body .table-dropdown:hover .table-dropdown-items {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    height: 0 !important;
    width: 0 !important;
    overflow: hidden !important;
    position: absolute !important;
    left: -9999px !important;
    top: -9999px !important;
}

/* COMPLETELY DISABLE ALL HOVER BEHAVIOR FOR DROPDOWNS */
.table-dropdown-items,
.table-dropdown:hover .table-dropdown-items,
.table-dropdown-items:hover,
.table .table-dropdown:hover .table-dropdown-items,
.dropdown:hover .dropdown-menu,
.table-responsive .dropdown:hover .dropdown-menu,
.table-responsive .table-dropdown:hover .table-dropdown-items {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Context menu positioned relative to body */
.table-dropdown-context-menu {
    position: fixed !important;
    background-color: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 0.375rem !important;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
    z-index: 999999 !important;
    min-width: 140px !important;
    padding: 0.5rem 0 !important;
    display: block !important;
    margin: 0 !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* Menu item styling */
.table-dropdown-context-menu div[role="menuitem"] a {
    display: flex;
    align-items: center;
    padding: 0.5rem 0.75rem;
    color: #212529;
    text-decoration: none;
    transition: background-color 0.15s ease-in-out;
    font-size: 14px;
}

.table-dropdown-context-menu div[role="menuitem"] a:hover {
    background-color: #f8f9fa;
}

.table-dropdown-context-menu .icon {
    margin-right: 0.5rem;
    width: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Color coding for actions */
.table-dropdown-context-menu a.blue { color: #0d6efd; }
.table-dropdown-context-menu a.green { color: #198754; }
.table-dropdown-context-menu a.red { color: #dc3545; }
.table-dropdown-context-menu a.orange { color: #fd7e14; }